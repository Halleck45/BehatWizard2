{% extends 'HalBehatWizardBundle::base.html.twig' %}

{% block title %}{{ "hbw.title.feature.edit"|trans }}{% endblock %}

{% block body %}



<!-- Models -->
<div id="box-models" style="display:none">
    <!-- Step Given -->
    <div id="step-given" class="box-step control-group">
        <label class="control-label" for="step">Etant donné</label>
        <div class="controls">
            <input data-step-type="Given" type="text" class="step step-given input-xlarge input-step input-step-given"  placeholder="..." />
        </div>
    </div>
    <!-- Step When -->
    <div id="step-when" class="box-step control-group">
        <label class="control-label" for="step">Quand</label>
        <div class="controls">
            <input data-step-type="When" type="text" class="step step-when input-xlarge input-step input-step-when"  placeholder="..." />
        </div>
    </div>
    <!-- Step Then -->
    <div id="step-then" class="box-step control-group">
        <label class="control-label" for="step">Alors</label>
        <div class="controls">
            <input data-step-type="Then" type="text" class="step step-then input-xlarge input-step input-step-then"  placeholder="..." />
        </div>
    </div>

    <!-- scenario -->
    <div class="scenario" id="scenario">
        <div class="scenario-opts">
            <a href="#" class="btn-scenario-edit" data-callback-out="updateScenarioDatas" data-callback-enter="editScenario"><i class="icon icon-pencil"></i></a>
            <a href="#" class="btn-scenario-edit"><i class="icon icon-trash"></i></a>
        </div>
        <div class="scenario-title">
            <a href="#"  data-callback-enter="editScenario" data-callback-out="updateScenarioDatas" class="btn-scenario-edit"><span class="scenario-title-text">Loading title</span></a>
        </div>
    </div>

    <!-- Outline -->
    <div id="outline-node" class="outline-node control-group">
        <table class="table table-condensed controls" style="width:auto">
            <thead>
                <tr>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <div class="table-condensed controls">
            <button class="btn btn-small btn-outline-add-column">Add column</button>
            <button class="btn btn-small  btn-outline-add-row">Add Row</button>
        </div>
    </div>

    <!-- container only -->
    <table>
        <thead>
            <tr>
                <th id="outline-node-head"><a href="#" class="btn-outline-remove-column"><i class="icon icon-trash"></i></a></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="outline-node-cell"><input  type="text" class="outline-content outline-cell input-small" placeholder="martin@dupont.fr" /></td>
                <td id="outline-row-remove" class="decorator">
                    <a href="#" class="btn-outline-remove-row"><i class="icon icon-trash"></i></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>


<form >


    <div class="row">


        <!-- Side panel -->
        <div class="span4" id="ui-side">

            <p class="box-act">
                <a class="btn" id="btn-cancel">Cancel</a>
                <a class="btn btn-primary" id="btn-save">Save</a>

            </p>


            <!-- title, descr -->
            <div class="well form" id="feature-box-title">
                <h4 class="feature-title">
                    <span class="clone-title">My Feature</span>
                    <a class="btn" href="#" id="btn-feature-edit" data-callback-out="editMain"><i class="icon icon-pencil"></i></a>
                </h4>
                <div>
                    <div><span class="keyword descr-keyword">In order to</span><span class="clone-inorder">...</span></div>
                    <div><span class="keyword descr-keyword">As</span><span class="clone-as">...</span></div>
                    <div><span class="keyword descr-keyword">I should</span><span class="clone-should">...</span></div>
                </div>
            </div>


            <!-- scenarios -->
            <div class="well form " id="feature-box-scenarios">
                <h4 class="feature-title">
                    <span class="clone-scenario-title">Scenarios</span>
                </h4>
                <div class="scenarios">

                    <p class="box-act-add-scenario">
                        <a class="btn btn-scenario-add btn-scenario-edit" data-callback-enter="addScenario"><i class="icon icon-plus-sign"></i> New scenario</a>
                    </p>
                </div>
            </div>



            <!-- details -->
            <div class="well form " id="feature-box-details">
                <h4 class="feature-details">
                    Details
                </h4>
                <p>
                    <a href="#" class="btn btn-background-edit">Change background</a>
                </p>
            </div>
        </div>






        <!--  Modified content  -->
        <div id="page-editing" class="span8">
            <div class="well">





                <!-- Box Scenario -->
                <div id="box-edit-scenario" class="box-editing" style="display:none">
                    <div class="">
                        <h1>Cas d'utilisation</h1>
                        <p>Les cas d'utilisations sont autant de scénarios qui décrivent votre fonctionnalité</p>

                        <div class=" box-scenario box-scenario-opened">


                            <div class="form-horizontal">
                                <fieldset>
                                    <legend>Résumé</legend>
                                    <div class="control-group">
                                        <label class="control-label" for="scenario-title">Titre</label>
                                        <div class="controls">
                                            <input type="text" id="scenario-title" name="scenario-title" class="input-xlarge input-step input-scenario-title"  placeholder="..." />
                                        </div>
                                    </div>
                                </fieldset>
                            </div>


                            <div class="scenario-content">
                                <div class="form-horizontal">
                                    <fieldset>
                                        <legend>Pré-requis</legend>

                                        <div id="box-steps-given">
                                            <!-- Content will be placed here -->
                                        </div>

                                        <div class="control-group">
                                            <div class="controls">
                                                <div class="btn-group">
                                                    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                        <i class="icon icon-plus-sign"></i> ajouter un pré-requis
                                                        <span class="caret"></span>
                                                    </a>
                                                    <ul class="dropdown-menu">
                                                        <li><a href="#">Pré-requis simple</a></li>
                                                        <li><a href="#">Pré-requis avec jeu de données</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                    </fieldset>
                                    <fieldset>
                                        <legend>Eléments déclencheurs</legend>

                                        <div id="box-steps-when">
                                            <!-- Content will be placed hre -->
                                        </div>
                                        <div class="control-group">
                                            <div class="controls">
                                                <div class="btn-group">
                                                    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                        <i class="icon icon-plus-sign"></i> ajouter un événement
                                                        <span class="caret"></span>
                                                    </a>
                                                    <ul class="dropdown-menu">
                                                        <li><a href="#">Evénement simple</a></li>
                                                        <li><a href="#">Evénement avec jeu de données</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>Résultats attendus</legend>

                                        <div id="box-steps-then">
                                            <!-- Content will be placed hre -->
                                        </div>
                                        <div class="control-group">
                                            <div class="controls">
                                                <div class="btn-group">
                                                    <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                                                        <i class="icon icon-plus-sign"></i> ajouter un résultat attendu
                                                        <span class="caret"></span>
                                                    </a>
                                                    <ul class="dropdown-menu">
                                                        <li><a href="#">Résultat attendu simple</a></li>
                                                        <li><a href="#">Résultat attend avec jeu de données</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>


                                    <fieldset>
                                        <legend>Jeu d'exemples</legend>
                                        <p>
                                            Les colonnes d'exemples sont automatiquement aujoutées lorsque vous saisissez dans un champ
                                            une valeur qui commence par un "&lt;" et finit par "&gt;".
                                        </p>

                                        <p>Par exemple : </p>
                                        <code>
                                            Je tente de réinscrire l'utilisateur qui a l'email "&lt;Email&gt;"
                                        </code>

                                        <p>Sera compris par le développeur :</p>
                                        <code>
                                            Je tente de réinscrire l'utilisateur qui a l'email "martin@dupont.fr"
                                        </code>

                                        <p>C'est à vous :</p>
                                        <div class="outline-node">
                                            <table  id="examples" class="outline-node examples table">
                                                <thead>
                                                    <tr>
                                                        <!-- Content will be placed hre -->
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Content will be placed hre -->
                                                </tbody>
                                            </table>
                                            <div class="table-condensed controls">
                                                <button class="btn btn-small  btn-outline-add-row">Add Row</button>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>

                                <div class=" form-actions">
                                    <button class="btn btn-primary" type="submit">J'ai terminé pour ce scénario</button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>






                <!-- Box Feature -->
                <div id="box-edit-title" class="box-editing" data-callback-out="editMain">
                    <div class="hero-unit">
                        <h1>En 2 mots</h1>
                        <p>Décrivez ici votre fonctionnalité en quelques mots seulement</p>
                        <div class="form-horizontal">

                            <fieldset>
                                <legend>En résumé</legend>
                                <div class="control-group">
                                    <label for="title" class="control-label">Title:</label>
                                    <div class="controls">
                                        <input name="title" id="title" placeholder="Pouvoir ajouter un utilisateur..." class="input-xlarg" />
                                        <p class="help-block">Le titre de la fonctionnalité</p>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="inorder" class="control-label">Afin de:</label>
                                    <div class="controls">
                                        <input name="inorder" id="inorder" placeholder="Enregister un nouvel utilisateur..." class="input-xlarg" />
                                        <p class="help-block">Finalité de la fonctionnalité</p>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="as" class="control-label">En tant que:</label>
                                    <div class="controls">
                                        <input name="as" id="as" placeholder="Administrateur du site..." class="input-xlarg" />
                                        <p class="help-block">Rôle de l'utilisateur qui agit</p>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label for="should" class="control-label">je dois:</label>
                                    <div class="controls">
                                        <input name="should" id="should" placeholder=" Inscrire moi-même un nouvel utilisateur dans le site..." class="input-xlarg" />
                                        <p class="help-block">Bénéfice direct de la fonctionnalité</p>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset id="box-notes">
                                <legend>Quelques notes</legend>
                                <div class="control-group">
                                    <textarea name="notes" id="notes" placeholder="" class="field  span6" rows="6"></textarea>
                                    <p class="help-block">Ne renseignez des notes QUE si c'est vraiment indispensable à la compréhension.</p>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>



            </div>
        </div>

    </div>
</form>


{% endblock %}


{% block javascript %}
<script type="text/javascript">
    $(function() {


        var feature = new hbw.domain.feature( {{ dumper.dump() | raw }});
        hbw.ui.editing.init(feature);
    });
</script>
{% endblock %}