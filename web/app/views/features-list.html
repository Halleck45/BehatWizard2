<div ng-controller="FeatureListController">


    <div class="container-search">
        <div class="search-state">
            <button ng-click="setCriterium('state', 'success');" class="btn btn-success">Success only</button>
            <button ng-click="setCriterium('state', 'failure');" class="btn btn-danger">Failure only</button>
            <button ng-click="setCriterium('state', 'pending');" class="btn btn-warning">Pending only</button>
        </div>
        <div class="form-horizontal search-text">
            Search by title:
            <input id="search-text" type="text" ng-model="criteriumSearchedText" />
        </div>
        <div class="navbar-fixed-bottom search-tags" ng-class="{'hide':getAvailableTags() == 0}">
            <a ng-click="setCriterium('tag', tag);" 
               class="badge" ng-repeat="tag in getAvailableTags()">{{tag}}</a>
        </div>
    </div>

    <div class="container-features">
        <div class="span3 well feature" ng-repeat="feature in features" ng-class="{'hide':!matchCurrentCriterium(feature)}">
            <div class="feature-title"><a href="#">{{feature.title}}</a></div>
            <div class="feature-inorder"><span>In order to</span> {{feature.inorder}}</div>
            <div class="feature-as"><span>As</span> {{feature.as}}</div>
            <div class="feature-should"><span>I should </span> {{feature.should}}</div>

            <div class="scenario" ng-repeat="scenario in feature.scenarios">
                <span class="state state-{{scenario.state}}">{{scenario.title}}</span>
            </div>

            <div class="feature-tags">
                <a ng-click="setCriterium('tag', tag);" 
                   class="badge" ng-repeat="tag in getAvailableTags()">{{tag}}</a>
            </div>
        </div>
    </div>
</div>