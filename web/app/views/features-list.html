<div ng-controller="FeatureListController">


    <div class="page-header">
        <div class="page-header-content">
            <h1>My Features<small>product backlog</small></h1>
            <a class="icon icon-comments-4 big " href="/"></a>
        </div>
    </div>


    <div class="container-search grid">
        <div class="row">
            <div class="search-state span6">
                <button ng-click="setCriterium('state', null);" class="btn" ng-class="{'criterium-selected': criterium.state == null}">All</button>
                <button ng-click="setCriterium('state', 'success');" class="btn btn-success" ng-class="{'criterium-selected': criterium.state == 'success'}">Success only</button>
                <button ng-click="setCriterium('state', 'failure');" class="btn btn-danger" ng-class="{'criterium-selected': criterium.state == 'failure'}">Failure only</button>
                <button ng-click="setCriterium('state', 'pending');" class="btn btn-warning" ng-class="{'criterium-selected': criterium.state == 'pending'}">Pending only</button>
            </div>
            <div class="form-horizontal search-text span4">
                Title:
                <input id="search-text" type="text" ng-model="criterium.text" />
            </div>
            <div class="navbar-fixed-bottom search-tags" ng-class="{'hide':getAvailableTags() == 0}">
                <a ng-click="setCriterium('tag', tag);"
                   class="tag" ng-repeat="tag in getAvailableTags()" ng-class="{'criterium-selected': criterium.tag == tag}">{{tag}}</a>
            </div>
        </div>
    </div>


    <ul class="container-list-features listview fluid">

        <li ng-repeat="feature in features"
            ng-class="{
            'ui-hide-slide':!matchCurrentCriterium(feature)
            }"
            ng-click="setCurrentFeature(feature);"
            class="state state-{{feature.state}}"
            >
            <p>
                {{feature.title}}
            </p>
            <div class="feature-inorder"><span>In order to</span> {{feature.inorder}}</div>
            <div class="feature-as"><span>As</span> {{feature.as}}</div>
            <div class="feature-should"><span>I should </span> {{feature.should}}</div>



            <div class="scenario" ng-repeat="scenario in feature.scenarios">
                <span class="state state-{{scenario.state}}">{{scenario.title}}</span>
            </div>
<!--            <div class="feature-tags">
                <a ng-click="setCriterium('tag', tag);"
                   class="tag"
                   ng-repeat="tag in feature.tags"
                   ng-class="{'criterium-selected': criterium.tag == tag}">{{tag}}</a>
            </div>-->

        </li>

    </ul>


</div>